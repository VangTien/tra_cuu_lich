<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Tra C·ª©u Ng√†y L·ªÖ Vi·ªát Nam</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #0066ff, #e6f7ff);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: #333;
        }

        .container {
            width: 800px;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            padding-bottom: 20px;
        }

        h1 {
            font-size: 40px;
            font-weight: 700;
            text-align: center;
            margin: 0;
            padding: 20px 0;
            background: #0066ff;
            color: #fff;
        }

        input {
            width: 90%;
            margin: 20px auto;
            display: block;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 16px;
        }

        button {
            width: 90%;
            margin: 0 auto 20px;
            display: block;
            padding: 14px;
            font-size: 18px;
            font-weight: 600;
            background: #0066ff;
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease-in-out, transform 0.2s ease-in-out;
        }

        button:hover {
            background: #0052cc;
            transform: scale(1.03);
        }

        #results {
            padding: 20px;
        }

        .holiday-card {
            background: #f9f9f9;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            border-left: 5px solid #007bff;
        }

        .holiday-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .holiday-details {
            margin-bottom: 10px;
        }

        .important-holiday {
            border-left: 5px solid #ff9900;
            background: #fffbe6;
        }

        .date-info {
            color: #007bff;
            font-weight: 600;
        }

        .name-info {
            color: #ff9900;
            font-weight: 600;
        }

        .countdown-info {
            color: #00b894;
            font-weight: 500;
        }

        .description-info {
            color: #6c757d;
            font-style: italic;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                width: 100%;
                margin: 0 20px;
            }

            input, button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Danh S√°ch Ng√†y L·ªÖ Vi·ªát Nam</h1>
        <input id="yearInput" type="text" placeholder="Nh·∫≠p nƒÉm (v√≠ d·ª•: 2025)">
        <button onclick="getAllHolidays()">Hi·ªÉn Th·ªã Ng√†y L·ªÖ</button>
        <div id="results"></div>
    </div>

    <script>
        document.getElementById("yearInput").addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                getAllHolidays();
            }
        });

        function convertToLunarDate(date) {
            const lunarDay = (date.getDate() - 10 + 30) % 30 || 30;
            const lunarMonth = (date.getMonth() + 1) % 12 || 12;
            const lunarYear = date.getFullYear() - (lunarMonth > 11 ? 1 : 0);
            return `${lunarDay}/${lunarMonth}/${lunarYear}`;
        }

        function getDaysInYear(year) {
            return ((year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0)) ? 366 : 365;
        }

        function getTraditionalHolidays(year) {
            return [
                { date: `${year}-01-01`, localName: "T·∫øt D∆∞∆°ng L·ªãch", description: "Ng√†y ƒë·∫ßu nƒÉm m·ªõi theo d∆∞∆°ng l·ªãch." },
                { date: `${year}-02-10`, localName: "T·∫øt Nguy√™n ƒê√°n", description: "L·ªÖ h·ªôi l·ªõn nh·∫•t nƒÉm ƒë·ªÉ ƒë√≥n ch√†o nƒÉm m·ªõi √¢m l·ªãch." },
                { date: `${year}-03-08`, localName: "Ng√†y Qu·ªëc T·∫ø Ph·ª• N·ªØ", description: "Ng√†y t√¥n vinh ph·ª• n·ªØ tr√™n to√†n th·∫ø gi·ªõi." },
                { date: `${year}-04-30`, localName: "Ng√†y Gi·∫£i Ph√≥ng Mi·ªÅn Nam", description: "Ng√†y th·ªëng nh·∫•t ƒë·∫•t n∆∞·ªõc Vi·ªát Nam." },
                { date: `${year}-05-01`, localName: "Ng√†y Qu·ªëc T·∫ø Lao ƒê·ªông", description: "Ng√†y l·ªÖ d√†nh cho ng∆∞·ªùi lao ƒë·ªông tr√™n to√†n th·∫ø gi·ªõi." },
                { date: `${year}-06-01`, localName: "Ng√†y Qu·ªëc T·∫ø Thi·∫øu Nhi", description: "Ng√†y l·ªÖ d√†nh ri√™ng cho tr·∫ª em." },
                { date: `${year}-09-02`, localName: "Ng√†y Qu·ªëc Kh√°nh Vi·ªát Nam", description: "K·ª∑ ni·ªám ng√†y th√†nh l·∫≠p n∆∞·ªõc Vi·ªát Nam." },
                { date: `${year}-08-15`, localName: "R·∫±m Th√°ng T√°m", description: "L·ªÖ Trung Thu truy·ªÅn th·ªëng." },
                { date: `${year}-10-20`, localName: "Ng√†y Ph·ª• N·ªØ Vi·ªát Nam", description: "Ng√†y ƒë·∫∑c bi·ªát ƒë·ªÉ t√¥n vinh ph·ª• n·ªØ Vi·ªát Nam." },
                { date: `${year}-12-22`, localName: "Ng√†y Th√†nh L·∫≠p Qu√¢n ƒê·ªôi", description: "Ng√†y k·ª∑ ni·ªám th√†nh l·∫≠p Qu√¢n ƒë·ªôi Nh√¢n d√¢n Vi·ªát Nam." }
            ];
        }

        async function getAllHolidays() {
            const year = document.getElementById("yearInput").value.trim();
            if (!/^\d+$/.test(year)) {
                alert("Vui l√≤ng nh·∫≠p m·ªôt nƒÉm h·ª£p l·ªá!");
                return;
            }

            const resultsContainer = document.getElementById("results");
            resultsContainer.innerHTML = "";

            const traditionalHolidays = getTraditionalHolidays(year);
            const currentDate = new Date();
            const totalDays = getDaysInYear(Number(year));

            const daysInYearDiv = document.createElement("div");
            daysInYearDiv.className = "holiday-card";
            daysInYearDiv.innerHTML = ` 
                <div class="holiday-details">
                    <div class="date-info">üìÜ NƒÉm ${year} c√≥ t·ªïng c·ªông: ${totalDays} ng√†y</div>
                </div>
            `;
            resultsContainer.appendChild(daysInYearDiv);

            try {
                const response = await fetch(`https://date.nager.at/api/v3/PublicHolidays/${year}/VN`);
                const publicHolidays = response.ok ? await response.json() : [];
                const importantHolidays = ["T·∫øt Nguy√™n ƒê√°n", "Ng√†y Qu·ªëc Kh√°nh Vi·ªát Nam"];
                const allHolidays = [...publicHolidays, ...traditionalHolidays];

                allHolidays.forEach(holiday => {
                    const date = new Date(holiday.date);
                    const gregorianDate = date.toLocaleDateString("vi-VN", {
                        weekday: "long",
                        day: "2-digit",
                        month: "2-digit",
                        year: "numeric"
                    });
                    const lunarDate = convertToLunarDate(date);
                    const daysRemaining = Math.ceil((date - currentDate) / (1000 * 60 * 60 * 24));
                    const isImportant = importantHolidays.includes(holiday.localName);

                    if (daysRemaining <= 0) {
                        return;
                    }

                    const holidayDiv = document.createElement("div");
                    holidayDiv.className = `holiday-card ${isImportant ? 'important-holiday' : ''}`;
                    holidayDiv.innerHTML = `
                        <div class="holiday-details">
                            <div class="date-info">üìÖ ${gregorianDate} (√Çm l·ªãch: ${lunarDate})</div>
                            <div class="name-info">üéâ ${holiday.localName}</div>
                            <div class="countdown-info">‚è≥ C√≤n ${daysRemaining} ng√†y</div>
                        </div>
                        <div class="description-info">üìñ ${holiday.description || "Kh√¥ng c√≥ m√¥ t·∫£."}</div>
                    `;
                    resultsContainer.appendChild(holidayDiv);
                });
            } catch (error) {
                alert(`L·ªói k·∫øt n·ªëi: ${error.message}`);
            }
        }
    </script>
</body>
</html>
